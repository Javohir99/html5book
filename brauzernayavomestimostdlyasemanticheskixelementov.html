<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>
            Браузерная совместимость для семантических элементов    
        </title>
    </head>
    <body>
        <h1>Браузерная совместимость для семантических элементов</h1>
        <p>Пока все наши примеры использования новых возможностей HTML5 выглядят неплохо. Но результаты не будут такими воодушевляющими, если просмотреть нашу страницу в старых браузерах. Однако прежде чем заняться этим вопросом, стоит выяснить, какие браузеры предоставляют поддержку простых чисто семантических элементов. Эта информация предоставлена в таблице</p>
        <table border="1">
            <tr>
                <td></td>
                <td>IE</td>
                <td>Firefox</td>
                <td>Chrome</td>
                <td>Safari</td>
                <td>Oper</td>
                <td>Safari iOs</td>
                <td>Android</td>
            </tr>
            <tr>
                <td>Минимальная версия</td>
                <td>9</td>
                <td>4</td>
                <td>8</td>
                <td>5</td>
                <td>11,1</td>
                <td>4</td>
                <td>2,1</td>
            </tr>
        </table>
        <p>Как видим, ситуация в этой области не очень утещительная. К счастью, эта проблема из разряда легко решаемых. Ведь семантические элементы по сути ничего не делают. Все, что нужно браузеру делать для их поддержки, - это обрабатывать их как обычный элемент &lt;div&gt;. Но для этого нам нужно решить две проблемы.</p>
        <p>Первым делом нам нужно преодолеть привычку браузера рассматривать все неопознаные им элементы, как встроенные. Большинство семантических элементов HTML5 (включая все элементы, которые. мы рассмотрели в этой главе, за исключением элемента &lt;time&gt;) являются блочными элементами. Это означает, что их нужно отображать в отдельной строке, с небольшим расстоянием между ними и предшествующими и следующими элементами.</p>
        <p>Браузеры, которые не распознают элементы HTML5, не знают, что некоторые из этих элементов следует отображать как блочные, вследствие чего они, скорее всего, сбросят эти элементы в одну беспоряжочную кучу. Чтобы решить это проблему, нужно просто добавить одно новое правило в таблицу стилей. Далее приведен код для суперправила, которое одним махом применят форматирование блочного отображения к девяти требующим его элементам HTML5:</p>
        <i>article, aside, figure, figcaption, footer, header, hgroup,<br>
             nav, section, summary{
                display: block;
            }</i>
        <p>Это правило таблицы стилей никаким образом не будет влиять на браузеры, которые уже понимают HTML5, т.к. свойство display уже имеет значение block. Также оно не будет влиять ни на какие правила, которые уже используется для форматирования этих элементов, т.к. они будет продолжать приеняться в дополнение к этому суперправлу.</p>
        <p>Этот метод решает проблему распознавания семантических элементов в большинстве браузеров, но в это большинство не входят Internet Explorer 8 и более старые его версии. Здесь нужно решить вторую проблему, заключающуюся в том, что эти версии IE отказываются применять форматирование таблицы стилей к элементам, которые они не распознают. К счастью, эта проблема решается с помощью небольшого трюка: браузер IE можно обмануть и заставить его распознавать чужие ему элементы, зарегистрировав их с помощью команды JavaScript. Например, в следующем JavaScript-коде браузер IE наделяется способностью понимать и применять стиль к элементу &lt;header&gt;:</p>
        <i>
            &lt;script&gt;<br>
                document.createElement('header')
            &lt;/script&gt;
        </i>
            <p>Но вместо того чтобы самаму разрабатывать такой код для всех элеменова, можно воспользоваться уже готовым сценарием, ознакомиться с которым можно на сайте http://tinyurl.com/nlcjx. Чтобы использовать этот сценарий, просто вставьте ссылку на него в блок &lt;head&gt; разметки:</p>
        <i>
            &lt;head&gt;<br>
            &lt;title&gt;...&lt;/title&gt;<br>
            &lt;script&gt;<br>
                src="http://html5shim.googlecode.com/svm/trunk/html5.js"&gt;&lt;/script&gt;<br>
                ...<br>
                &lt;head&gt;
        </i>
        <p>Этот код загружает сценарий с веб-сервера html5shim.googlecode.com и исполняет его, прежде чем браузер начинает обрабатывать остальную разметку страницы. Этот простой и краткий сценарий применит рассмотренный выше JavaScript-код для элемента &lt;header&gt;, с соответствующими изменениями, ко всем новым элементам HTML5, что позволят форматировать их с помощью правил таблиц стилей. Добавьте в таблицу стилей приведенное ранее суперправило, и новые элементы будут отображаться должным образом, как блочные элементы. Вам только остается использовать новые элементы и добавить собственные правила таблицы стилей для их форматирования.</p>
        <p>Кстати, сценарий html5.js исполняется, только если он определит, что используется старая версия Internet Explorer. Но если вы хотите вообще избежать наклажных расходов, связанных с ненужным вызовом сценария JavaScript, можно в ссылку на него добавить соответсвующее условие, как показано в следующем коде:</p>
        <i>
            &lt;!--[if it IE 9]&gt;<br>
            &lt;script<br>
                src="http://html5shim.googlecode.com/svn/trumk/html5.js"&gt;&lt;script&gt;<br>
            &lt;![endif]-->
        </i>
        <p>Таким образом, не нуждающиеся в нем браузеры (IE 9  и более поздние версии) будут игнорировать эту команду, что сэкономит несколько миллисекунд на исполнения кода разметка страницы.</p>
        <p>Наконец, стоит отметить, что обычно Internet Explorer блокирует попытку исполнения файла страницы с диска локального компьютера. Это означает, что вместо отображения страницы IE выведет свою пресловутую панель безопасности, сообщая в ней о блокировке этого сценария. Чтобы исполнить сценарий, нужно щелкнуть по этой панели безопасности и в открывшемся диалоговом окне разрешить исполнение активного содержимого.</p>
        <p>Хотя эта проблема не проявляетя при исполнении файла страницы с веб-сервера, при локальном тестировании это, определенно, раздражает и отвлекает от главного. Решением будет добавить метку MOTW в начале страницы</p>
    </body>
</html>